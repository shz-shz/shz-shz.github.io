<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录</title>
    <link rel="stylesheet" href="css/login.css">
</head>

<body>
    <div class="header">
        <div class="nav">
            <div class="logolike">
                echo的个人博客
            </div>
            <ul>
                <li><a href="index.html">首页</a></li>
                <li><a href="blogs.html">博客</a></li>
                <li><a href="resources.html">资源</a></li>
                <li><a href="notes.html">笔记</a></li>
                <li><a href="about.html">关于</a></li>
            </ul>
            <div class="search">
                <input type="text">
                <button type="button" value="搜索"></button>
            </div>
            <div class="user">
                <a href="login.html">站长登录</a>
            </div>
        </div>
    </div>
    <div class="main_login">
        <div class="login_header">
            站长登录
        </div>
        <form action="index.html">
            <div class="username_area">
                <div class="username_text"><label for="username">用户名:</label></div><input type="text" class="username" name="username" id="username">
                <div class="username_tip_area">请输入正确的用户名</div>
            </div>
            <div class="password_area">
                <div class="password_text"><label for="password">密码:</label></div><input type="password" class="password" id="password">
                <div class="password_tip_area">请输入6-16位的密码</div>
            </div>
            <input type="submit" value="登录" class="log"><button type="reset" class="reset"></button>
        </form>
        <div class="buttons"><button class="login_button">登录</button>
            <button class="rreset">重新输入</button>
        </div>
    </div>
    <div class="login_success">
        <div class="successtips">登录成功！页面将在5秒后跳转到首页</div>
    </div>
    <script>
        var user = document.querySelector('.username');
        var utip = document.querySelector('.username_tip_area');
        var pwd = document.querySelector('.password');
        var ptip = document.querySelector('.password_tip_area');
        var rreset = document.querySelector('.rreset');
        var reset = document.querySelector('.reset');
        var submit = document.querySelector('.log');
        var submitbutton = document.querySelector('.login_button');
        var stip = document.querySelector('.login_success');
        user.addEventListener('blur', function() {
            if (this.value != 'shzshz' && this.value.length > 0) {
                utip.className = 'username_tip_area wrong';
                utip.innerHTML = '请输入正确的用户名';
            } else if (this.value.length == 0) {
                utip.innerHTML = '请输入正确的用户名';
                utip.className = 'username_tip_area';
            } else {
                utip.className = 'username_tip_area';
                utip.innerHTML = '';
            }

        })
        pwd.addEventListener('blur', function() {
            if (this.value.length < 6 && this.value.length > 0 || this.value.length > 16) {
                ptip.className = 'password_tip_area wrong';
                ptip.innerHTML = '请输入6-16位的密码';
            } else {
                ptip.className = 'password_tip_area';
            }
            if (this.value != '20010113' & this.value.length >= 6 && this.value.length <= 16) {
                ptip.className = 'password_tip_area wrong';
                ptip.innerHTML = '密码错误';
            } else if (this.value == '20010113') {
                ptip.innerHTML = '';
            }
        })
        rreset.addEventListener('click', function() {
            reset.click();
        })
        reset.addEventListener('click', function() {
            user.value = '';
            pwd.value = '';
            utip.innerHTML = '请输入正确的用户名';
            utip.className = 'username_tip_area';
            ptip.innerHTML = '请输入6-16位的密码';
            ptip.className = 'password_tip_area';
        })
        var timer = 5;
        submitbutton.addEventListener('click', function(e) {
            if (user.value == 'shzshz')
                setInterval(function() {
                    if (timer == 0) {
                        submit.click();
                    } else {
                        stip.className = 'login_success display';
                        stip.innerHTML = '登录成功！页面将在' + timer + '秒后跳转到首页';
                        timer--;
                    }
                }, 1000)
            else {
                e.preventDefault();
            }
        })
    </script>
</body>

</html>